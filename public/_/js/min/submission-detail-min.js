function updateGrantView(e){var t=$('<div class="edits"></div>'),n=$('<input id="inputId" disabled/>').val(e.Id),a=$('<textarea id="inputTitle" rows="2"></textarea>').val(e.Title),i=$('<input id="inputPI" />').val(e.PI),s=$('<input id="inputCollege" />').val(e.College),o=$('<input id="inputDept" />').val(e.Dept),p=$('<input id="inputConferenceDate" />').val(e.ConferenceDate),r=$('<input id="inputLocation" />').val(e.Location),u=$('<textarea id="inputPurpose" rows="5"></textarea>').val(e.Purpose),d=$('<input id="inputAmount" />').val(e.Amount),l=$('<input id="inputAttendees" />').val(e.Attendees),v=$('<input id="inputSubmissionStatus" />').val(e.SubmissionStatus),c=$('<input id="inputCustom1" />').val(e.Custom1),m=$('<input id="inputCustom2" />').val(e.Custom2),f=$('<input id="inputCustom3" />').val(e.Custom3),C="Approved",g="Rejected";t.append(n).append(a).append(i).append(s).append(o).append(p).append(r).append(u).append(d).append(l).append(v),$("#edit-view").append(t),$("<span>ID</span>").insertBefore("#inputId"),$("<span>Title</span>").insertBefore("#inputTitle"),$("<span>Principal Investigator</span>").insertBefore("#inputPI"),$("<span>College</span>").insertBefore("#inputCollege"),$("<span>Department</span>").insertBefore("#inputDept"),$("<span>Conference Date</span>").insertBefore("#inputConferenceDate"),$("<span>Location</span>").insertBefore("#inputLocation"),$("<span>Purpose</span>").insertBefore("#inputPurpose"),$("<span>Amount</span>").insertBefore("#inputAmount"),$("<span>Attendees</span>").insertBefore("#inputAttendees"),$("<span>Submission Status</span>").insertBefore("#inputSubmissionStatus"),$(document).on("click","#update",function(e){$(".detail-view").addClass("active"),$(this).removeClass("active"),$("#edit").addClass("active"),$.ajax("https://internalgrantdev.azurewebsites.net/api/MGrants/"+grantId,{method:"PUT",data:{Id:n.val(),Title:a.val(),PI:i.val(),College:s.val(),Dept:o.val(),ConferenceDate:p.val(),Location:r.val(),Purpose:u.val(),Amount:d.val(),Attendees:l.val(),SubmissionStatus:v.val(),Custom1:c.val(),Custom2:m.val(),Custom3:f.val()}}).done(function(e){alert("This record has been updated."),updateGrantView(e.grant)}).error(function(e){alert("Something is not right")})}),$(document).on("click","#approve",function(e){$.ajax("https://internalgrantdev.azurewebsites.net/api/MGrants/"+grantId,{method:"PUT",data:{Id:grantId,Title:a.val(),PI:i.val(),College:s.val(),Dept:o.val(),ConferenceDate:p.val(),Location:r.val(),Purpose:u.val(),Amount:d.val(),Attendees:l.val(),SubmissionStatus:"Approved"}}).done(function(e){alert("This record is approved."),window.location.href="submissions.html"}).error(function(e){alert("Something is not right")})}),$(document).on("click","#reject",function(e){$.ajax("https://internalgrantdev.azurewebsites.net/api/MGrants/"+grantId,{method:"PUT",data:{Id:grantId,Title:a.val(),PI:i.val(),College:s.val(),Dept:o.val(),ConferenceDate:p.val(),Location:r.val(),Purpose:u.val(),Amount:d.val(),Attendees:l.val(),SubmissionStatus:"Rejected"}}).done(function(e){alert("This record is rejected."),window.location.href="submissions.html"}).error(function(e){alert("Something is not right")})})}var grantId=window.location.hash.substring(1);$("#edit").click(function(){$(".detail-view").removeClass("active"),$(this).removeClass("active"),$("#update").addClass("active")});var GRANT_URL="https://internalgrantdev.azurewebsites.net/api/MGrants/";$.get(GRANT_URL+grantId).done(function(e){updateGrantView(e)});